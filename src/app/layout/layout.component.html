<div class="container" style="padding-top: 20px; min-height: 100vh">
  <div class="curvy border mat-elevation-z1 white-back">
    <form [formGroup]="form" (ngSubmit)="submit()" class="p-4">
      <div class="row">
        <app-e-jalali-date-picker
          [required]="true"
          [label]="'Tarih'"
          [controlName]="'date'"
          [control]="form.controls['date']"
          [formGroup]="form"
          [required]="true"
          [maxDate]="today"
        ></app-e-jalali-date-picker>

        <app-e-dropdown
          [label]="'Döviz Cinsi'"
          [controlName]="'currency'"
          [control]="form.controls['currency']"
          [formGroup]="form"
          [options]="currencyCodes"
          [required]="false"
        ></app-e-dropdown>
        <div class="col-3">
          <div class="row mt-4">
            <button
              mat-raised-button
              class="mt-2 curvy btn btn-info"
              color="primary"
              type="submit"
            >
              Göster
            </button>
          </div>
        </div>
      </div>
    </form>
  </div>

  <div class="curvy border mat-elevation-z1 white-back mt-3">
    <div *ngIf="loading" class="py-36">
      <app-e-loading></app-e-loading>
    </div>
    <table
      *ngIf="!loading"
      class="text-center xtable w-full"
      #mytable
      mat-table
      [dataSource]="dataSource"
      matSort
      matSortActive="ID"
      matSortDirection="desc"
      style="width: 100%"
    >
      <ng-container matColumnDef="CurrencyCode">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Döviz Kodu</th>
        <td mat-cell *matCellDef="let element" class="">
          {{ element.CurrencyCode }}
        </td>
      </ng-container>

      <ng-container matColumnDef="CurrencyName">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Döviz Cinsi</th>
        <td mat-cell *matCellDef="let element" class="">
          {{ element.CurrencyName }}
        </td>
      </ng-container>

      <ng-container matColumnDef="ForexBuying">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Döviz Alış</th>
        <td mat-cell *matCellDef="let element" class="">
          {{ element.ForexBuying }}
        </td>
      </ng-container>

      <ng-container matColumnDef="ForexSelling">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Döviz Satış</th>
        <td mat-cell *matCellDef="let element" class="">
          {{ element.ForexSelling }}
        </td>
      </ng-container>

      <ng-container matColumnDef="BanknoteBuying">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Efektif Alış</th>
        <td mat-cell *matCellDef="let element" class="">
          {{ element.BanknoteBuying }}
        </td>
      </ng-container>

      <ng-container matColumnDef="BanknoteSelling">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Efektif Satış</th>
        <td mat-cell *matCellDef="let element" class="">
          {{ element.BanknoteSelling }}
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
    </table>
  </div>
</div>

<app-footer></app-footer>
